/*!
 * mmenujs.com/mmenu-light
 *
 * Copyright (c) Fred Heusschen
 * www.frebsite.nl
 *
 * License: CC-BY-4.0
 * http://creativecommons.org/licenses/by/4.0/
 */
const mmlight=(()=>{const e=e=>Array.prototype.slice.call(e),t=(t,m)=>e((m||document).querySelectorAll(t));var m=()=>{document.addEventListener("click",e=>{const t=e.target;t.closest(".mm")&&t.matches("a")&&e.stopPropagation()});const m=e=>{e.target.closest(".mm")||t(".mm.mm--open").forEach(t=>{e.preventDefault(),e.stopPropagation(),t.mmlight.close()})};document.addEventListener("click",t=>{const m=t.target,s=m.closest(".mm");if(s){let a=m.matches("li")?m:!!m.matches("span")&&m.parentElement;a&&(t.stopPropagation(),e(a.children).forEach(e=>{e.matches("ul")&&(a.parentElement.classList.add("mm--parent"),s.mmlight.openPanel(e))}))}}),document.addEventListener("click",e=>{const m=e.target;if(m.matches(".mm")){e.stopPropagation();let s=t(".mm--open",m),a=s[s.length-1];if(a){a.classList.remove("mm--open");let e=a.parentElement.closest("ul");e&&m.mmlight.openPanel(e)}}}),document.addEventListener("click",m),document.addEventListener("touchstart",m)};const s={mediaQuery:"all",title:"Menu"};return(a,n)=>{const o={};n=n||{},["mediaQuery","title"].forEach(e=>{o[e]=n[e]||s[e]}),m(),m=(()=>{});var l=null;const c=e=>{a.classList[e.matches?"add":"remove"]("mm")},r={create:e=>(void 0===e&&(e=o.mediaQuery),"number"==typeof e&&(e="(max-width: "+e+"px)"),o.mediaQuery=e,(l=window.matchMedia(e)).addListener(c),a.classList[l.matches?"add":"remove"]("mm"),r),destroy:()=>(l.removeListener(c),a.classList.remove("mm"),r),init:e=>{let m=t(e,a),s=m[m.length-1],n=null;return s&&(n=s.closest("ul")),n||(n=a.querySelector("ul")),r.openPanel(n),r},open:()=>(a.classList.add("mm--open"),document.body.classList.add("mm--open"),r),close:()=>(a.classList.remove("mm--open"),document.body.classList.remove("mm--open"),r),openPanel:m=>{m||(m=a.querySelector("ul"));let s=m.dataset.mmTitle,n=m.parentElement;n===a?a.classList.add("mm--home"):(a.classList.remove("mm--home"),s||e(n.children).forEach(e=>{e.matches("a, span")&&(s=e.textContent)})),s||(s=o.title),a.dataset.mmTitle=s,t(".mm--open",a).forEach(e=>{e.classList.remove(".mm--open","mm--parent")}),m.classList.add("mm--open"),m.classList.remove("mm--parent");let l=m.parentElement.closest("ul");for(;l;)l.classList.add("mm--open","mm--parent"),l=l.parentElement.closest("ul");return r}};return a.mmlight=r,r}})();export default mmlight;